{"version":3,"sources":["context/ThemeContextProvider.js","components/GlobalStyles.js","components/CalculatorApp/ThemeSelector.js","components/CalculatorApp/Result.js","assets/keypad.js","components/CalculatorApp/Keypad.js","components/CalculatorApp/Footer.js","utils/getResult.js","components/CalculatorApp.js","App.js","reportWebVitals.js","index.js"],"names":["ThemeContext","createContext","ThemeContextProvider","state","themes","data","theme","changeTheme","setState","Provider","value","this","props","children","Component","GlobalStyles","createGlobalStyle","background","main","text","Container","styled","div","keypad","ThemeRadio","input","key","ThemeSelector","useContext","className","Object","keys","map","t","type","name","checked","onChange","ResultPad","screen","Result","disabled","result","Keys","KeyBtn","button","Keypad","k","onClick","updateResult","Attribution","Footer","rel","href","target","getResult","str","stack","numStr","sign","i","length","c","isNaN","pre","num","Number","push","pop","str2Stack","String","CalculatorApp","componentDidMount","window","addEventListener","e","handleKeyDown","match","slice","getRestul","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.81597d2e.chunk.js","sourcesContent":["import React, { Component, createContext } from 'react';\nimport { ThemeProvider } from \"styled-components\";\nimport * as themes from 'assets/schema.json';\n\nexport const ThemeContext = createContext();\n\nclass ThemeContextProvider extends Component {\n  state = {\n    themes: {\n      ...themes.default.data,\n    },\n    theme: 'dark'\n  }\n  changeTheme = (theme) => {\n    this.setState({theme: theme});\n  }\n  render() {\n    return (\n      <ThemeContext.Provider value={{...this.state, changeTheme:this.changeTheme}}>\n        <ThemeProvider theme={this.state.themes[this.state.theme]}>\n          { this.props.children }\n        </ThemeProvider>\n      </ThemeContext.Provider>\n    );\n  }\n}\n\nexport default ThemeContextProvider;\n","import { createGlobalStyle} from \"styled-components\";\n\nexport const GlobalStyles = createGlobalStyle`\n  body {\n    margin: 0;\n    min-height: 100vh;\n    background: ${({theme}) => theme.background.main};\n    color: ${props => props.theme.text[\"theme-color\"]};\n    font-family: Spartan;\n    font-weight: 700;\n    height: 100vh;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    margin: 0;\n  }\n  #root {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: inherit;\n  }\n`;","import { useContext } from 'react';\nimport styled from 'styled-components';\nimport { ThemeContext } from 'context/ThemeContextProvider';\n\nconst Container = styled.div`\n  background: ${props => props.theme.background.keypad}\n`;\n\nconst ThemeRadio = styled.input`\n  &:checked {\n    background: ${props => props.theme.key[\"equal-bg\"]};\n  }\n  &::before {\n    color: ${props => props.theme.text[\"theme-color\"]};\n  }\n`;\n\nconst ThemeSelector = () => {\n  const { themes, theme, changeTheme } = useContext(ThemeContext); \n  return (\n    <Container className=\"theme-selector\">\n      { Object.keys(themes).map(t => {\n        return (\n          <ThemeRadio\n            key={t}\n            type=\"radio\"\n            name=\"thems\"\n            checked={t === theme}\n            value={t}\n            onChange={() => changeTheme(t)}>\n          </ThemeRadio>\n        );\n      })}\n    </Container>\n  );\n}\n\nexport default ThemeSelector;","import styled from \"styled-components\";\n\nconst ResultPad = styled.input`\n  color: ${props => props.theme.text[\"result-color\"]};\n  background: ${({theme}) => theme.background.screen};\n`;\n\nconst Result = (props) => {\n  return (\n    <ResultPad\n      type=\"text\"\n      disabled\n      className=\"result\"\n      value={ props.result } />\n  );\n}\n\nexport default Result;","const Keys = [\n  \"7\", \"8\", \"9\", \"DEL\", \"4\", \"5\", \"6\", \"+\", \"1\", \"2\", \"3\", \"-\", \".\", \"0\", \"/\", \"x\", \"RESET\", \"=\"\n]\n\nexport default Keys;","import styled from \"styled-components\";\nimport Keys from 'assets/keypad';\n\nconst Container = styled.div`\n  background: ${props => props.theme.background.keypad};\n`;\n\nconst KeyBtn = styled.button`\n  color: ${props => {\n    switch(props.type) {\n      case \"DEL\":\n      case \"RESET\":\n        return props.theme.text[\"function-color\"];\n      case \"=\":\n        return props.theme.text[\"equal-color\"];\n      default:\n        return props.theme.text[\"digit-color\"];\n    }\n  }};\n  background: ${props => {\n    switch(props.type) {\n      case 'DEL':\n      case \"RESET\":\n        return props.theme.key[\"function-bg\"];\n      case '=':\n        return props.theme.key[\"equal-bg\"];\n      default:\n        return props.theme.key[\"digit-bg\"];;\n    }\n  }};\n  box-shadow: 0 0.25rem ${props => {\n    switch(props.type) {\n      case \"DEL\":\n      case \"RESET\":\n        return props.theme.key[\"function-shadow\"];\n      case \"=\":\n        return props.theme.key[\"equal-shadow\"];\n      default:\n        return props.theme.key[\"digit-shadow\"];\n    }\n  }};\n  &:active {\n    box-shadow: 0 0.2rem ${props => {\n      switch(props.type) {\n        case \"DEL\":\n        case \"RESET\":\n          return props.theme.key[\"function-shadow\"];\n        case \"=\":\n          return props.theme.key[\"equal-shadow\"];\n        default:\n          return props.theme.key[\"digit-shadow\"];\n      }\n    }};\n  }\n`;\n\nconst Keypad = (props) => {\n  return (\n    <Container\n      className=\"keypad\">\n      { Keys.map(k => {\n        return (\n          <KeyBtn\n            key={k}\n            type={k}\n            onClick={() => props.updateResult(k)}>\n            {k}\n          </KeyBtn>\n        )\n      }) }\n    </Container>\n  );\n}\n\nexport default Keypad;","import styled from \"styled-components\";\n\nconst Attribution = styled.div`\n  font-size: 11px;\n  text-align: center;\n  + a {\n    color: hsl(228, 45%, 44%);\n  }\n`;\n\nconst Footer = () => {\n  return (\n    <footer>\n      <Attribution>\n        Challenge by <a rel=\"noreferrer\" href=\"https://www.frontendmentor.io?ref=challenge\" target=\"_blank\">Frontend Mentor</a>. \n        Coded by <a href=\"https://github.com/enhsu/Calculator-App\">Ian Hsu</a>.\n      </Attribution>\n    </footer>\n  );\n}\n\nexport default Footer;","const str2Stack = (str) => {\n  const stack = [];\n  let numStr = '';\n  let sign = '+';\n  for (let i = 0; i < str.length; i++) {\n    let c = str[i];\n    if (!isNaN(c) || c === '.') {\n      numStr += c;\n    }\n    if ((isNaN(c) && c !== '.') || i === str.length - 1) {\n      let pre;\n      let num = Number(numStr);\n      switch(sign) {\n        case '+':\n          stack.push(num);\n          break;\n        case '-':\n          stack.push(-num);\n          break;\n        case '*':\n          pre = stack.pop();\n          stack.push(pre * num);\n          break;\n        case '/':\n          pre = stack.pop();\n          stack.push(pre / num);\n          break;\n        default:\n          stack.push(num);\n      }\n      sign = c;\n      numStr = '';\n    }\n  }\n  return stack;\n};\n\nexport default function getResult(str) {\n  let result = 0;\n  const stack = str2Stack(str);\n  while (stack.length) {\n    result += stack.pop();\n  }\n  return String(result);\n}","import { Component } from 'react';\nimport ThemeSelector from './CalculatorApp/ThemeSelector';\nimport Result from './CalculatorApp/Result';\nimport Keypad from './CalculatorApp/Keypad';\nimport Footer from 'components/CalculatorApp/Footer'\nimport getRestul from 'utils/getResult';\nimport 'styles/App.scss';\n\nclass CalculatorApp extends Component {\n  state = {\n    result: ''\n  };\n\n  componentDidMount = () => {\n    window.addEventListener('keydown', (e) => {\n      this.handleKeyDown(e);\n    });\n  }\n\n  handleKeyDown = (e) => {\n    // eslint-disable-next-line\n    const avaliableKey = /[\\d\\+\\-\\*\\/\\.]/;\n    if (e.key.match(avaliableKey)) {\n      this.updateResult(e.key);\n    } else if (e.key === \"Backspace\") {\n      this.updateResult(\"DEL\");\n    } else if (e.key === \"Escape\") {\n      this.updateResult(\"RESET\");\n    } else if (e.key === \"Enter\") {\n      this.updateResult(\"=\");\n    }\n  }\n\n  updateResult = (k) => {\n    switch(k) {\n      case \"DEL\":\n        this.setState({result: this.state.result.slice(0, -1)});\n        break;\n      case \"RESET\":\n        this.setState({result: \"\"});\n        break;\n      case \"+\":\n      case \"-\":\n      case \"x\":\n      case \"/\":\n      case \".\":\n        if (k === 'x') {\n          k = '*';\n        }\n        // eslint-disable-next-line\n        const reg = /[\\+\\-\\*\\/\\.]$/;\n        if (this.state.result.match(reg)) {\n          this.setState({result: this.state.result.slice(0, -1) + k});\n        } else {\n          this.setState({result: this.state.result + k});\n        }\n        break;\n      case '=':\n        this.setState({result: getRestul(this.state.result)});\n        break;\n      default:\n        this.setState({result: this.state.result + k})\n    }\n  }\n\n  render() { \n    return (\n      <main className=\"calculator\">\n        <div className=\"title\">\n          <h1>calc</h1>\n          <div className=\"theme\">\n            <h2 className=\"theme-title\">\n              THEME\n            </h2>\n            <ThemeSelector />\n          </div>\n        </div>\n        <Result result={this.state.result} />\n        <Keypad updateResult={(k) => this.updateResult(k)} />\n        <Footer />\n      </main>\n    );\n  }\n}\n\nexport default CalculatorApp;","import ThemeContextProvider from \"context/ThemeContextProvider\";\nimport { GlobalStyles } from \"components/GlobalStyles\";\nimport CalculatorApp from \"components/CalculatorApp\";\n\nfunction App() {\n  return (\n    <ThemeContextProvider className=\"App\">\n      <GlobalStyles />\n      <CalculatorApp />\n    </ThemeContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}